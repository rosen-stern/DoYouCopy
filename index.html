<html>

<!--
GAMEPLAY NOTES
- timer reset button doesn't work
- Update the tables with the new google doc tables 
- Add up the tables and display the total number
- Add prompts to fill out during the 15 minutes like "motivation" and "background"
- Add a button that says: "Finished early?"  with some writing prompts
-Rename the "name" and "label" for the textareas

-->

<link rel="stylesheet" href="style.css">
<body>

<div id="heading">
    <h1>Do you <span>copy?</span></h1>
    <div id="sub-heading-wrapper">
<div class="sub-heading-item">
    <div class="sub-heading-icon"> <img src="assets/wall-clock.png"> </div>
    <div class="sub-heading-content">30 minutes from set up to finish</div>
</div>

<div class="sub-heading-item">
    <div class="sub-heading-icon"> <img src="assets/helmet.png"> </div>
    <div class="sub-heading-content">2 players</div>
</div>

<div class="sub-heading-item">
    <div class="sub-heading-icon"> <img src="assets/box.png"> </div>
    <div class="sub-heading-content">Needs a timer, paper, and pencils</div>
</div>

    </div>
</div>

<p>Make sure both players have this web page up on a device, or have printed versions. If you're using the printed version, you'll need a timer that you can both view.</p> 
<p>Set a timer for 15 minutes, and make sure both players can see the “seconds” counting down. There's a timer at the top of this page you can use and drag to a more convenient position. This will be your time to set up the game, and later it will time the actual gameplay too. You’ll each work on the next section separately. Start the shared timer, or your separate timers at the same time (it's okay if you're a few seconds off from each other).</p>


<details>
<summary><h2>When you're ready to set up, review this section.</h2></summary>
<div class="border-left">
<details open>
    <summary><h2>Background</h2></summary>


    <p><i>In the vastness of space, planets exist so far apart that centuries pass in intergalactic silence. You’ve watched the stars and other celestial objects move across your skies for generations, but you’ve heard nothing, until today. Through the white noise, there’s a signal. Your people have decided to respond to it, and science estimates you only have 15 minutes to talk, and you’re chosen to sit at the microphone.</i></p>
    <p>The timer counting more than the time left for you to set up your backstory. You’ll use it to select items from the list below by looking at the seconds area of the timer and using the “ones” digit. For example, “5” can be found in 15, 35, 55, etc. </p>
    <p>Using the timer, select items from each list below to finish the following sentences. This will be the basis of your backstory.</p>
    <p>If anything doesn’t make sense or feel right to you, change it. This is your story, and these are just guidelines to help you. On this site, you can also select or tap the table and it will automatically highlight the option based on the timer's current time.</p>
</details>

    <details open>
        <summary><h2>The lists</h2></summary>

    <div id="tables-wrapper">
        <div class="table"  onclick="testing(0)">
            <p>You mainly live in an environment that's...</p>
    <table id="table-0"> 
        <tr>
            <td>0</td>
            <td>Across several asteroids</td>
        </tr>
        <tr>
            <td>1</td>
            <td>Barren</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Underground</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Mountainous</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Desert</td>
        </tr>
        <tr>
            <td>5</td>
            <td>Underwater</td>
        </tr>
        <tr>
            <td>6</td>
            <td>Volcanic</td>
        </tr>
        <tr>
            <td>7</td>
            <td>Lush</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Arctic</td>
        </tr>
        <tr>
            <td>9</td>
            <td>In the air</td>
        </tr>

    </table>
    </div>

    <div class="table" onclick="testing(1)">
    <table id="table-1"> <p>You were chosen becaue you...</p>
        <tr>
            <td>0</td>
            <td>Are the only one left</td>
        </tr>
        <tr>
            <td>1</td>
            <td>Have famous parents</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Are famous</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Lead the society</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Took over the airwaves</td>
        </tr>
        <tr>
            <td>5</td>
            <td>Are an expert about the other planet</td>
        </tr>
        <tr>
            <td>6</td>
            <td>Know how to operate the radio</td>
        </tr>
        <tr>
            <td>7</td>
            <td>Are an activist</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Won a contest</td>
        </tr>
        <tr>
            <td>9</td>
            <td>Are an elder or respected person</td>
        </tr>

    </table>
    </div>

    <div class="table" onclick="testing(2)">   
    <table id="table-2"> <p>People have asked you to get...</p>
        <tr>
            <td>0</td>
            <td>Animals</td>
        </tr>
        <tr>
            <td>1</td>
            <td>Food</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Water</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Building materials</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Information (spying)</td>
        </tr>
        <tr>
            <td>5</td>
            <td>Technology</td>
        </tr>
        <tr>
            <td>6</td>
            <td>Stability in space politics</td>
        </tr>
        <tr>
            <td>7</td>
            <td>Residents or tourism</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Plants</td>
        </tr>
        <tr>
            <td>9</td>
            <td>Cultural knowledge</td>
        </tr>

  
    </table>
    <p>But you really want... (Select an item again. You may agree with the previous item!)</p>
    </div>

    <div class="table" onclick="testing(4)">
    <table id="table-4"> <p>Unfortunately...</p>

        <tr>
            <td>0</td>
            <td>You know they can't be trusted</td>
        </tr>
        <tr>
            <td>1</td>
            <td>They are at war with someone else in the galaxy</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Your planets have spoken before and have a history</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Your planets are one planet that split in half eons ago</td>
        </tr>
        <tr>
            <td>4</td>
            <td>They are much more advanced than you in some way</td>
        </tr>
        <tr>
            <td>5</td>
            <td>You have a valued item or resource from their planet</td>
        </tr>
        <tr>
            <td>6</td>
            <td>You've sent emissaries to their planet, but haven't heard back</td>
        </tr>
        <tr>
            <td>7</td>
            <td>Your planet actually needs two things (pick another item from the previous list)</td>
        </tr>
        <tr>
            <td>8</td>
            <td>You are actually an AI following your last programmed order</td>
        </tr>
        <tr>
            <td>9</td>
            <td>You don't have what the other planet is asking for</td>
        </tr>

    </table>
    </div>


    <div class="table" onclick="testing(5)">
        <table id="table-5"> <p>In the end...</p>
            <tr>
                <td>1</td>
                <td>Sunflares make your connection degrade over time.</td>
            </tr>
            <tr>
                <td>2</td>
                <td>You make a concession of some kind.</td>
            </tr>
            <tr>
                <td>3</td>
                <td>An asteroid heads for your planet.</td>
            </tr>
            <tr>
                <td>4</td>
                <td>The sun you both orbit starts to explode.</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Someone's entered the room you're broadcasting from.</td>
            </tr>
            <tr>
                <td>6</td>
                <td>Inclement weather starts to impact the place you're in.</td>
            </tr>
            <tr>
                <td>7</td>
                <td>The technology you're using starts to fail, and you can only use one syllable at a time.</td>
            </tr>
            <tr>
                <td>8</td>
                <td>??</td>
            </tr>
            <tr>
                <td>9</td>
                <td>??</td>
            </tr>
            <tr>
                <td>0</td>
                <td>??</td>
            </tr>
        </table>
        </div>
    
    </div>
    
</details>
<h2>Your character sheet</h2>
<p>Use the lists above to create your character and the story arc for your call. The other player is planning their own story arc, and the magic is where those two intersect. Without speaking to the other player, plan here:</p>

<div class="character-sheet-info" style="display:flex; gap: 20px;">

    <div>
<label for="who">Who are you?</label>
<textarea style="display:block" name="who" rows="4" cols="50">
Tell your story...
</textarea> 
</div>

<div>
    <label for="who">Where do you live? What does your daily life look like?</label>
    <textarea style="display:block" name="who" rows="4" cols="50">
    
    </textarea> 
    </div>
    

    <div>
        <label for="who">Where do they live? What is their life like?</label>
        <textarea style="display:block" name="who" rows="4" cols="50">
        
        </textarea> 
        </div>
        

</div>




</div>
</details>

<h2>When you're done setting up... </h2>
<p>Wait for the other player to finish. Once you're both done, review the following (it’s OK if you go over the 15 minutes):</p>
<ul>
<li>The game takes place in 5 minute intervals, noted by the moon on the timer moving from new moon to full moon and back to new moon. During each phase, you should keep in mind what information to share.
    <ul>
        <li>First 5 minutes: Introductions and getting to know the other planet (tables 1-3).</li>
            <li>Second 5 minutes: Discussing "twists" (table 4).</li>
                <li>Last 5 minutes: Resolve your ending if possible (table 5).</li>
    </ul> 
    <li>If a player makes a suggestion or assertion, the other player shouldn't deny it. For example, if someone says, "I hear you're hosting the thieve's guild," you don't have to <i>admit</i>, but you do have to agree. Reword the situation back to them however you see fit, but don't shut down each other's ideas.</li>
    <li>Remember that these are just suggestions. Ignore any rules in favor of enjoyable gameplay!</li>
    <li>Whoever has the higher "list sum" goes first. If there's a tie, then whoever is older goes first.</li>
</ul>
<p>When you’re ready, restart the timer for 15 minutes and play!</p>


<div id="mydiv">
    <div id="mydivheader">TIMER</div>
<span id="time">15:00</span>
<div id="timer-buttons-wrapper">
    <button id="timer-control" onClick="startTime()">▶</button>
    <button id="timer-reset" disabled onClick="resetTime()">↻</button>
</div>

<div class="moon">
    <div class="disc darkened" id="disc"></div>
  </div>

  </div>


  <footer>

<p>Made for LIS 561: Indigenous Storytelling in a Digital Age. May 2025.</p>
<p><a href="https://www.flaticon.com/free-icons/box" title="box icons">Box icons created by ibrandify</a> | <a href="https://www.flaticon.com/free-icons/astronaut-helmet" title="astronaut helmet icons">Astronaut helmet icons created by Creatype</a> | <a href="https://www.flaticon.com/free-icons/watch" title="watch icons">Watch icons created by Freepik</a></p>

  </footer>
</body>




<script>

    var is_timing = false;
    var seconds_ones = 0;

    let character_sheet_array = ["...","...","...","...","..."];

    var table_two_control = 0;

//TABLE elements
function testing(table_id){

    if(is_timing){
        var table_clicked = document.getElementById("table-" + table_id);
        var rows = table_clicked.getElementsByTagName("tr");

        var selected_count = 0;

        if(parseInt(table_id) == 2){ //let them pick two items if it's table two
        table_two_control++;
        for(var i = 0; i < rows.length; i++){
        if(rows[i].classList.contains("selected")){
selected_count++;
        }
        }
    }
 
        
        for(var i = 0; i < rows.length; i++){
            if(parseInt(table_id) != 2 || selected_count > 1){ //let them pick two items if it's table two
            rows[i].classList.remove("selected");
}          
 if(i == seconds_ones){
                rows[i].classList.add("selected");

                if(parseInt(table_id) == 2){
                    if(table_two_control % 2 == 0){
                        character_sheet_array[parseInt(table_id)+1] = rows[i].getElementsByTagName("td")[1].firstChild.data;
} else {
    character_sheet_array[parseInt(table_id)] = rows[i].getElementsByTagName("td")[1].firstChild.data;
}
                } else {
                    character_sheet_array[parseInt(table_id)] = rows[i].getElementsByTagName("td")[1].firstChild.data;
                }



              
                // character_sheet_array[parseInt(table_id)] = character_sheet_array[parseInt(table_id)][0].toLowerCase();
            }


        }
    }


console.log(character_sheet_array)

}


//https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_draggable
//Make the DIV element draggagle:
    dragElement(document.getElementById("mydiv"));
    
    function dragElement(elmnt) {
      var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
      if (document.getElementById(elmnt.id + "header")) {
        /* if present, the header is where you move the DIV from:*/
        document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
      } else {
        /* otherwise, move the DIV from anywhere inside the DIV:*/
        elmnt.onmousedown = dragMouseDown;
      }
    
      function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        // get the mouse cursor position at startup:
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement;
        // call a function whenever the cursor moves:
        document.onmousemove = elementDrag;
      }
    
      function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        // calculate the new cursor position:
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        // set the element's new position:
        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
      }
    
      function closeDragElement() {
        /* stop moving when mouse button is released:*/
        document.onmouseup = null;
        document.onmousemove = null;
      }
    }


    //TIMER FUNCTIONS
    //https://stackoverflow.com/questions/49079315/15-minute-countdown-timer
    
    var timer_control_button = document.getElementById("timer-control");
    var timer_reset_button = document.getElementById("timer-reset");
    var timer_display_span = document.getElementById("time");
    let x = 0;
    

    function startTime() {

        document.getElementById("disc").classList.add("moving_moon");
        document.getElementById("disc").classList.remove("darkened");

        is_timing = true;
        timer_control_button.disabled = "true";
        timer_reset_button.disabled = false;
   // Set the date we're counting down to
        var countDownDate = new Date().getTime() + 15 * 60 * 1000;

    // Update the count down every 1 second
        x = setInterval(function() {

  // Get today's date and time
        var now = new Date().getTime();

  // Find the distance between now and the count down date
        var distance = countDownDate - now;

  // Time calculations for hours, minutes and seconds
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        seconds_ones = seconds % 10;

        if(seconds < 10){
            seconds = "0" + seconds;
        }

        if(minutes < 10){
            minutes = "0" + minutes;
        }


    // Display the result in the element with id="demo"
        timer_display_span.innerHTML = minutes + ":" + seconds;

    // If the count down is finished, write some text
        if (distance < 0) {
            clearInterval(x);
        timer_display_span.innerHTML = "00:00";
        is_timing = false;
        document.getElementById("disc").classList.remove("moving_moon");
        document.getElementById("disc").classList.add("darkened");
        }
        }, 1000); 
    }


    function resetTime(){
        timer_control_button.disabled = false;
        timer_reset_button.disabled = "true";
        time_display_span.innerHTML = "15:00";

        clearInterval(x);
        x=undefined;
    }
    </script>

</html>